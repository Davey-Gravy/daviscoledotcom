{{ define "main" }}
  <h1>{{ .Title }}</h1>

  {{ $dateMachine := .Date | time.Format "2006-01-02T15:04:05-07:00" }}
  {{ $dateHuman := .Date | time.Format ":date_long" }}
  <time class="lead prose-base" datetime="{{ $dateMachine }}">{{ $dateHuman }}</time>

  {{ if .Params.spice }}
    {{ $spice := int .Params.spice }}
    {{ $max := 3 }}

    {{/* clamp spice between 1 and $max */}}
    {{ $full := cond (gt $spice $max) $max $spice }}
    {{ $full = cond (lt $full 1) 1 $full }}
    {{ $empty := sub $max $full }}

    <div class="flex items-center gap-1 mt-2" aria-label="Spice level: {{ $spice }} out of {{ $max }}">
      {{ range seq $full }}
        <span class="text-xl">üå∂Ô∏è</span>
      {{ end }}
      {{ range seq $empty }}
        <span class="text-xl opacity-30">üå∂Ô∏è</span>
      {{ end }}
      <span class="ms-2 text-sm">{{ $full }}/{{ $max }}</span>
    </div>
  {{ end }}

  <br>
  {{ .Content }}
{{ end }}
